2025-10-16 00:10:26 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-10-16 00:10:26 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:10:26 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:10:26 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:10:26 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:10:26 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:10:26 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:10:26 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:10:26 [Thread-5] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:10:26 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-16 00:10:26 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-16 00:10:26 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:10:26 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:10:26 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:10:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:10:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 6 JPA repository interfaces.
2025-10-16 00:10:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:10:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:10:27 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:10:27 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:10:27 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 170 ms
2025-10-16 00:10:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-10-16 00:10:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn6: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:10:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-10-16 00:10:27 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:10:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:10:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:10:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:10:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:10:27 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:10:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:10:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:10:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:10:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:10:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:10:27 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:10:27 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:10:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:10:27 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:10:27 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:10:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:10:27 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:10:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:10:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:10:27 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.518 seconds (process running for 1038.868)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:10:27 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:27 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:10:27 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:10:27 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:10:28 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 00:10:28 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:10:28 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:10:28 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:10:28 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:10:28 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:10:28 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:10:28 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:10:28 [Thread-7] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:10:28 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-10-16 00:10:28 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-10-16 00:10:28 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:10:28 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:10:28 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:10:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:10:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 6 JPA repository interfaces.
2025-10-16 00:10:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:10:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:10:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:10:29 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:10:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 122 ms
2025-10-16 00:10:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-10-16 00:10:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn11: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:10:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-10-16 00:10:29 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:10:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:10:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:10:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:10:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:10:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:10:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:10:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:10:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:10:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:10:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:10:29 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:10:29 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:10:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:10:29 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:10:29 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:10:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:10:29 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:10:29 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:10:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:10:29 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.379 seconds (process running for 1040.701)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:10:29 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:10:29 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:10:29 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:10:29 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:11:31 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 00:11:31 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:11:31 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:11:31 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:11:31 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:11:31 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:11:31 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:11:31 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:11:31 [Thread-12] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:11:31 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-10-16 00:11:31 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-10-16 00:11:31 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.yaml.snakeyaml.scanner.ScannerException: mapping values are not allowed here
 in 'reader', line 67, column 13:
        base-url: https://${aws.s3.bucket-name}. ... 
                ^

	at org.yaml.snakeyaml.scanner.ScannerImpl.fetchValue(ScannerImpl.java:902) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:391) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:238) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:637) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:161) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:57) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:43) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:136) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:116) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.composeScalarNode(Composer.java:241) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:205) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:369) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:348) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:323) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:209) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:131) ~[snakeyaml-2.2.jar:na]
	at org.yaml.snakeyaml.constructor.BaseConstructor.getData(BaseConstructor.java:162) ~[snakeyaml-2.2.jar:na]
	at org.springframework.boot.env.OriginTrackedYamlLoader$OriginTrackingConstructor.getData(OriginTrackedYamlLoader.java:99) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.yaml.snakeyaml.Yaml$1.next(Yaml.java:515) ~[snakeyaml-2.2.jar:na]
	at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:203) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:169) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:84) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.StandardConfigDataLoader.load(StandardConfigDataLoader.java:54) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.StandardConfigDataLoader.load(StandardConfigDataLoader.java:36) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:96) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:132) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:87) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:121) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataEnvironment.processInitial(ConfigDataEnvironment.java:245) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:138) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64) ~[spring-boot-3.3.5.jar:3.3.5]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:370) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
2025-10-16 00:13:00 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:13:00 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:13:00 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:13:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:13:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-10-16 00:13:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:13:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:13:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:13:00 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:13:00 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 193 ms
2025-10-16 00:13:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-10-16 00:13:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn16: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:13:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-10-16 00:13:00 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:13:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:13:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:13:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:13:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:13:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:13:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:13:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:13:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:13:00 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:13:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:13:00 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:13:00 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:13:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:13:00 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.386 seconds (process running for 1192.352)
2025-10-16 00:13:00 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:13:02 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 53 class path changes (53 additions, 0 deletions, 0 modifications)
2025-10-16 00:13:02 [Thread-16] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:13:02 [Thread-16] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:13:02 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-10-16 00:13:02 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-10-16 00:13:02 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:13:02 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:13:02 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:13:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:13:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 6 JPA repository interfaces.
2025-10-16 00:13:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:13:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:13:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:13:02 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:13:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 114 ms
2025-10-16 00:13:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-10-16 00:13:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn21: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:13:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-10-16 00:13:02 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:13:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:13:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:13:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:13:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:13:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:13:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:13:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:13:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:13:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:13:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:13:02 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:13:02 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:13:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:13:02 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:13:02 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:13:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:13:02 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:13:02 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:13:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:13:02 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.354 seconds (process running for 1194.149)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:13:02 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:02 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:13:02 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:13:02 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   AwsConfig:
      Did not match:
         - @ConditionalOnProperty (app.file-storage.use-local=false) found different value in property 'app.file-storage.use-local' (OnPropertyCondition)

   S3Service:
      Did not match:
         - @ConditionalOnProperty (app.file-storage.use-local=false) found different value in property 'app.file-storage.use-local' (OnPropertyCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-10-16 00:13:52 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-10-16 00:13:52 [Thread-22] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:13:52 [Thread-22] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:13:52 [Thread-22] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:13:52 [Thread-22] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:13:52 [Thread-22] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:13:52 [Thread-22] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:13:52 [Thread-22] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:13:52 [Thread-22] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:13:52 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-10-16 00:13:52 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-10-16 00:13:52 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:13:52 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:13:52 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:13:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:13:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 6 JPA repository interfaces.
2025-10-16 00:13:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:13:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:13:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:13:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:13:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 145 ms
2025-10-16 00:13:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-10-16 00:13:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection conn26: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:13:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-10-16 00:13:52 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:13:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:13:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:13:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:13:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:13:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:13:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:13:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:13:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:13:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:13:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:13:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:13:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:13:53 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:13:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:13:53 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:13:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:13:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:13:53 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:13:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:13:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:13:53 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.388 seconds (process running for 1244.472)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:13:53 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:13:53 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:13:53 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:13:53 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:19:36 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 00:19:36 [Thread-26] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:19:36 [Thread-26] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:19:36 [Thread-26] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:19:36 [Thread-26] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:19:36 [Thread-26] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:19:36 [Thread-26] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:19:36 [Thread-26] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:19:36 [Thread-26] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:19:36 [Thread-26] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-10-16 00:19:36 [Thread-26] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-10-16 00:19:36 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:19:36 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:19:36 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:19:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:19:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 6 JPA repository interfaces.
2025-10-16 00:19:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:19:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:19:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:19:37 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:19:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 159 ms
2025-10-16 00:19:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-10-16 00:19:37 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection conn31: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:19:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-10-16 00:19:37 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:19:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:19:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:19:37 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:19:37 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:19:37 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:19:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:19:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:19:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:19:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:19:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:19:37 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:19:37 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:19:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:19:37 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:19:37 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:19:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:19:37 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:19:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:19:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:19:37 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.418 seconds (process running for 1588.685)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:19:37 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:37 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:19:37 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:19:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:19:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 00:19:38 [Thread-30] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:19:38 [Thread-30] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:19:38 [Thread-30] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:19:38 [Thread-30] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:19:38 [Thread-30] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:19:38 [Thread-30] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:19:38 [Thread-30] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:19:38 [Thread-30] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:19:38 [Thread-30] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-10-16 00:19:38 [Thread-30] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-10-16 00:19:38 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:19:38 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:19:38 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:19:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:19:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 6 JPA repository interfaces.
2025-10-16 00:19:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:19:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:19:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:19:38 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:19:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 114 ms
2025-10-16 00:19:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-10-16 00:19:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection conn36: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:19:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-10-16 00:19:38 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:19:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:19:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:19:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:19:38 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:19:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:19:38 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:19:38 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:19:38 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:19:38 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:19:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:19:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:19:39 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:19:39 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:19:39 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:19:39 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:19:39 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:19:39 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:19:39 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:19:39 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:19:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:19:39 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.346 seconds (process running for 1590.465)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:19:39 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:19:39 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:19:39 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:19:39 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:20:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 00:20:08 [Thread-34] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:20:08 [Thread-34] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:20:08 [Thread-34] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:20:08 [Thread-34] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:20:08 [Thread-34] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:20:08 [Thread-34] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:20:08 [Thread-34] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:20:08 [Thread-34] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:20:08 [Thread-34] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-10-16 00:20:08 [Thread-34] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-10-16 00:20:08 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:20:08 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:20:08 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:20:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:20:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 6 JPA repository interfaces.
2025-10-16 00:20:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:20:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:20:08 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:20:08 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:20:08 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 132 ms
2025-10-16 00:20:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-10-16 00:20:08 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection conn41: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:20:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-10-16 00:20:08 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:20:08 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:20:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:20:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:20:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:20:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:20:08 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:20:08 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:20:08 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:20:08 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:20:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:20:09 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:20:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:20:09 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:20:09 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:20:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:20:09 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:20:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:20:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:20:09 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.355 seconds (process running for 1620.516)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:20:09 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:09 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:20:09 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:20:09 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:20:27 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 56 class path changes (0 additions, 53 deletions, 3 modifications)
2025-10-16 00:20:27 [Thread-38] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:20:27 [Thread-38] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:20:27 [Thread-38] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:20:27 [Thread-38] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:20:27 [Thread-38] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:20:27 [Thread-38] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:20:27 [Thread-38] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:20:27 [Thread-38] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:20:27 [Thread-38] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-10-16 00:20:27 [Thread-38] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-10-16 00:20:27 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:20:27 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:20:27 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:20:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:20:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 5 JPA repository interfaces.
2025-10-16 00:20:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:20:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:20:27 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:20:27 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:20:27 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 137 ms
2025-10-16 00:20:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-10-16 00:20:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection conn46: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:20:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-10-16 00:20:27 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:20:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:20:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:20:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:20:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:20:27 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:20:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:20:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:20:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:20:27 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:20:27 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tryOnController' defined in file [/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes/com/textiletryon/controller/TryOnController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'AITryOnService' defined in file [/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes/com/textiletryon/service/AITryOnService.class]: Unsatisfied dependency expressed through constructor parameter 5: No qualifying bean of type 'com.textiletryon.service.FileStorageService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-10-16 00:20:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:20:27 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:20:27 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:20:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-10-16 00:20:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-10-16 00:20:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-16 00:20:28 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-16 00:20:28 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of constructor in com.textiletryon.service.AITryOnService required a bean of type 'com.textiletryon.service.FileStorageService' that could not be found.


Action:

Consider defining a bean of type 'com.textiletryon.service.FileStorageService' in your configuration.

2025-10-16 00:20:29 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 53063 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:20:29 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:20:29 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:20:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:20:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 6 JPA repository interfaces.
2025-10-16 00:20:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:20:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:20:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:20:29 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:20:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 113 ms
2025-10-16 00:20:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-10-16 00:20:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection conn48: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:20:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-10-16 00:20:29 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:20:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:20:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:20:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:20:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:20:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:20:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:20:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:20:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:20:29 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:20:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:20:29 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:20:29 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:20:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:20:29 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:20:29 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:20:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:20:29 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:20:29 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:20:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:20:29 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.333 seconds (process running for 1641.162)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:20:29 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:20:29 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:20:29 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:20:29 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 00:22:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:22:11 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:22:11 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:22:11 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:22:11 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:22:11 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:22:11 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:22:11 [SpringApplicationShutdownHook] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:22:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-10-16 00:22:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-10-16 00:22:20 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 58903 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 00:22:20 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 00:22:20 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 00:22:20 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-16 00:22:20 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-16 00:22:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 00:22:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 6 JPA repository interfaces.
2025-10-16 00:22:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 00:22:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 00:22:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 00:22:21 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 00:22:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 625 ms
2025-10-16 00:22:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-16 00:22:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-10-16 00:22:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-16 00:22:21 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 00:22:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 00:22:21 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-10-16 00:22:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 00:22:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 00:22:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 00:22:21 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 00:22:21 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 00:22:22 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 00:22:22 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 00:22:22 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 00:22:22 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 00:22:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:22:22 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-16 00:22:22 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 00:22:22 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 00:22:22 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 00:22:22 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 00:22:22 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 00:22:22 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 00:22:22 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 00:22:22 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 00:22:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 00:22:22 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 2.37 seconds (process running for 2.541)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 00:22:22 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 00:22:22 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 00:22:22 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 00:22:25 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-16 00:22:25 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2002625c
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1c613146
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-16 00:22:25 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 00:22:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 00:22:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 00:22:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 00:22:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 00:22:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 00:22:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 00:22:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 00:22:25 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-10-16 00:22:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 00:22:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 00:22:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 00:22:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 00:22:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 00:22:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 00:22:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 00:22:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 00:22:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 00:22:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/profile", parameters={masked}
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#createOrGetProfile(String, String)
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserProfile */insert 
    into
        user_profiles (created_at, profile_name, session_id, id) 
    values
        (?, ?, ?, default)
2025-10-16 00:22:33 [http-nio-8080-exec-7] INFO  c.t.service.UserSessionService - Created new user profile for session: session_1760554346938_ufeidd8yi
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Profile retrieved successfully, data=UserProfile(id=1, sessionId=s (truncated)...]
2025-10-16 00:22:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/photos/upload?sessionId=session_1760554346938_ufeidd8yi", parameters={multipart}
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#uploadPhoto(String, MultipartFile, String)
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG c.t.service.FileStorageService - Using local file storage for user photo
2025-10-16 00:22:33 [http-nio-8080-exec-8] INFO  c.t.service.LocalFileStorageService - File uploaded successfully to local storage: http://localhost:8080/api/files/user-photos/1/bfa6b348-1746-40b4-a73d-a49a399e2a50.jpg
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserPhoto */insert 
    into
        user_photos (photo_name, photo_url, uploaded_at, user_profile_id, id) 
    values
        (?, ?, ?, ?, default)
2025-10-16 00:22:33 [http-nio-8080-exec-8] INFO  c.t.service.UserSessionService - Uploaded photo for user session_1760554346938_ufeidd8yi: http://localhost:8080/api/files/user-photos/1/bfa6b348-1746-40b4-a73d-a49a399e2a50.jpg
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Photo uploaded successfully, data=UserPhotoDto(id=1, photoUrl=http (truncated)...]
2025-10-16 00:22:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/tryon/generate?sessionId=session_1760554346938_ufeidd8yi", parameters={masked}
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.TryOnController#generateTryOn(String, TryonRequestDto)
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TryonRequestDto(garmentId=4, userPhotoId=1, aiModel=google-tryon, customPrompt=Put the Designer Sare (truncated)...]
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    where
        g1_0.id=?
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.photo_name,
        up1_0.photo_url,
        up1_0.uploaded_at,
        up1_0.user_profile_id 
    from
        user_photos up1_0 
    where
        up1_0.id=? 
        and up1_0.user_profile_id=?
2025-10-16 00:22:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 00:22:33 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Sending prompt to Google Gemini API for virtual try-on
2025-10-16 00:22:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/user-photos/1/bfa6b348-1746-40b4-a73d-a49a399e2a50.jpg", parameters={}
2025-10-16 00:22:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 00:22:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Auto-generated prompt: Drape a traditional Indian Designer Saree Collection 2 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  AI Prompt: Drape a traditional Indian Designer Saree Collection 2 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  User photo size: 40079 bytes
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Garment image size: 61053 bytes
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Calling Gemini API for AI-generated draped image
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Created Gemini request with prompt: Drape a traditional Indian Designer Saree Collection 2 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent
2025-10-16 00:22:36 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  API Key length: 39, First 5 chars: AIzaS***
2025-10-16 00:22:49 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Got AI-generated draped image from Gemini
2025-10-16 00:22:49 [http-nio-8080-exec-9] DEBUG c.t.service.AITryOnService - Found camelCase 'inlineData' field
2025-10-16 00:22:49 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Successfully extracted image data from Gemini response (size: 2161004 chars)
2025-10-16 00:22:49 [http-nio-8080-exec-9] DEBUG c.t.service.FileStorageService - Using local file storage for try-on result
2025-10-16 00:22:49 [http-nio-8080-exec-9] INFO  c.t.service.LocalFileStorageService - Try-on result uploaded successfully to local storage: http://localhost:8080/api/files/tryon-results/1/4_4a3be0f5-23c8-43f8-90cc-18227629c51a.jpg
2025-10-16 00:22:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.TryonResult */insert 
    into
        tryon_results (ai_model_used, created_at, garment_id, result_image_url, user_photo_id, user_profile_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-10-16 00:22:49 [http-nio-8080-exec-9] INFO  c.t.service.AITryOnService -  Try-on generated successfully for user session_1760554346938_ufeidd8yi and garment 4
2025-10-16 00:22:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 00:22:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Try-on generated successfully, data=TryonResultDto(id=1, resultIma (truncated)...]
2025-10-16 00:22:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/1/4_4a3be0f5-23c8-43f8-90cc-18227629c51a.jpg", parameters={}
2025-10-16 00:22:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 00:22:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:22:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/1/4_4a3be0f5-23c8-43f8-90cc-18227629c51a.jpg", parameters={}
2025-10-16 00:22:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 00:22:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 00:27:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 00:27:34 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 00:27:34 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 00:27:34 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 00:27:34 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 00:27:34 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 00:27:34 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 00:27:34 [SpringApplicationShutdownHook] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 00:27:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-16 00:27:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-16 01:20:01 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 60550 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 01:20:01 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 01:20:01 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 01:20:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-16 01:20:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-16 01:20:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 01:20:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 6 JPA repository interfaces.
2025-10-16 01:20:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 01:20:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 01:20:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 01:20:02 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 01:20:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
2025-10-16 01:20:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-16 01:20:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-10-16 01:20:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-16 01:20:02 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 01:20:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 01:20:02 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-10-16 01:20:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 01:20:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 01:20:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 01:20:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 01:20:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 01:20:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 01:20:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 01:20:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 01:20:02 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 01:20:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 01:20:02 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-16 01:20:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 01:20:03 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 01:20:03 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 01:20:03 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 01:20:03 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 01:20:03 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 01:20:03 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 01:20:03 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 01:20:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 01:20:03 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 2.431 seconds (process running for 2.602)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 01:20:03 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 01:20:03 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 01:20:03 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 01:20:05 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-16 01:20:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@778a1dc1
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5df5eefb
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-16 01:20:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-16 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 01:20:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 01:20:05 [http-nio-8080-exec-3] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-10-16 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 01:20:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 01:20:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 01:20:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 01:20:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 01:20:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 01:20:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 01:20:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 01:20:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 01:20:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 01:20:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 01:20:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 01:20:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 01:20:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 01:20:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 01:20:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:00:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:00:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:00:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:00:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:00:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:00:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:00:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:00:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:00:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:00:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:00:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:00:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:00:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:00:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:00:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:00:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:00:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:00:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:00:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:00:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:00:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:00:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:00:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:19:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:19:25 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:19:25 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:19:25 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:19:25 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:19:25 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:19:25 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:19:25 [SpringApplicationShutdownHook] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 02:19:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-16 02:19:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-16 02:25:02 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 65482 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 02:25:02 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 02:25:02 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 02:25:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-16 02:25:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-16 02:25:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 02:25:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 6 JPA repository interfaces.
2025-10-16 02:25:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 02:25:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 02:25:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 02:25:02 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 02:25:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 789 ms
2025-10-16 02:25:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-16 02:25:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-10-16 02:25:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-16 02:25:02 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 02:25:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 02:25:03 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-10-16 02:25:03 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 02:25:03 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 02:25:03 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 02:25:03 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 02:25:03 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 02:25:03 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 02:25:03 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 02:25:03 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:25:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:25:03 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:25:03 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-16 02:25:04 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 02:25:04 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 02:25:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 02:25:04 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 02:25:04 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 02:25:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 02:25:04 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 02:25:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 02:25:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 02:25:04 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 3.068 seconds (process running for 3.256)
2025-10-16 02:25:04 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 02:25:04 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 02:25:04 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:04 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:25:05 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 02:25:05 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 02:25:05 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-16 02:25:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2408ec53
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@60889c36
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-16 02:25:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:25:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:25:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:25:05 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-10-16 02:25:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:25:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:25:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:25:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:25:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:25:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:25:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:25:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:25:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:25:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:25:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:25:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:25:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:25:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:25:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:25:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:25:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:25:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:25:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:25:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:25:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:25:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:25:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:25:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/profile", parameters={masked}
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#createOrGetProfile(String, String)
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserProfile */insert 
    into
        user_profiles (created_at, profile_name, session_id, id) 
    values
        (?, ?, ?, default)
2025-10-16 02:25:30 [http-nio-8080-exec-4] INFO  c.t.service.UserSessionService - Created new user profile for session: session_1760561725569_s5pad555l
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Profile retrieved successfully, data=UserProfile(id=1, sessionId=s (truncated)...]
2025-10-16 02:25:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/photos/upload?sessionId=session_1760561725569_s5pad555l", parameters={multipart}
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#uploadPhoto(String, MultipartFile, String)
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG c.t.service.FileStorageService - Using local file storage for user photo
2025-10-16 02:25:30 [http-nio-8080-exec-5] INFO  c.t.service.LocalFileStorageService - File uploaded successfully to local storage: http://localhost:8080/api/files/user-photos/1/ffdc0b9d-6611-4957-b665-037e05da1d66.jpg
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserPhoto */insert 
    into
        user_photos (photo_name, photo_url, uploaded_at, user_profile_id, id) 
    values
        (?, ?, ?, ?, default)
2025-10-16 02:25:30 [http-nio-8080-exec-5] INFO  c.t.service.UserSessionService - Uploaded photo for user session_1760561725569_s5pad555l: http://localhost:8080/api/files/user-photos/1/ffdc0b9d-6611-4957-b665-037e05da1d66.jpg
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Photo uploaded successfully, data=UserPhotoDto(id=1, photoUrl=http (truncated)...]
2025-10-16 02:25:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/tryon/generate?sessionId=session_1760561725569_s5pad555l", parameters={masked}
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.TryOnController#generateTryOn(String, TryonRequestDto)
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TryonRequestDto(garmentId=3, userPhotoId=1, aiModel=google-tryon, customPrompt=Put the Designer Sare (truncated)...]
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    where
        g1_0.id=?
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.photo_name,
        up1_0.photo_url,
        up1_0.uploaded_at,
        up1_0.user_profile_id 
    from
        user_photos up1_0 
    where
        up1_0.id=? 
        and up1_0.user_profile_id=?
2025-10-16 02:25:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:25:30 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Sending prompt to Google Gemini API for virtual try-on
2025-10-16 02:25:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/user-photos/1/ffdc0b9d-6611-4957-b665-037e05da1d66.jpg", parameters={}
2025-10-16 02:25:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:25:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Auto-generated prompt: Drape a traditional Indian Designer Saree Collection 1 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  AI Prompt: Drape a traditional Indian Designer Saree Collection 1 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  User photo size: 40079 bytes
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Garment image size: 45489 bytes
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Calling Gemini API for AI-generated draped image
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Created Gemini request with prompt: Drape a traditional Indian Designer Saree Collection 1 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent
2025-10-16 02:25:32 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  API Key length: 39, First 5 chars: AIzaS***
2025-10-16 02:25:45 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Got AI-generated draped image from Gemini
2025-10-16 02:25:45 [http-nio-8080-exec-1] DEBUG c.t.service.AITryOnService - Found camelCase 'inlineData' field
2025-10-16 02:25:45 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Successfully extracted image data from Gemini response (size: 2093840 chars)
2025-10-16 02:25:45 [http-nio-8080-exec-1] DEBUG c.t.service.FileStorageService - Using local file storage for try-on result
2025-10-16 02:25:45 [http-nio-8080-exec-1] INFO  c.t.service.LocalFileStorageService - Try-on result uploaded successfully to local storage: http://localhost:8080/api/files/tryon-results/1/3_6d31991c-8542-45b5-8571-42e077c89479.jpg
2025-10-16 02:25:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.TryonResult */insert 
    into
        tryon_results (ai_model_used, created_at, garment_id, result_image_url, user_photo_id, user_profile_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-10-16 02:25:45 [http-nio-8080-exec-1] INFO  c.t.service.AITryOnService -  Try-on generated successfully for user session_1760561725569_s5pad555l and garment 3
2025-10-16 02:25:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:25:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Try-on generated successfully, data=TryonResultDto(id=1, resultIma (truncated)...]
2025-10-16 02:25:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/1/3_6d31991c-8542-45b5-8571-42e077c89479.jpg", parameters={}
2025-10-16 02:25:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:25:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:25:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/1/3_6d31991c-8542-45b5-8571-42e077c89479.jpg", parameters={}
2025-10-16 02:25:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:25:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:28:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:28:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-16 02:28:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-16 02:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-16 02:28:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-16 02:28:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-16 02:28:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Blue, Multi, Red], errorCode= (truncated)...]
2025-10-16 02:28:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree], errorCode=null, t (truncated)...]
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:28:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG c.t.controller.GarmentController - Search parameters - searchTerm: null, categories: null, colors: null, minPrice: null, maxPrice: null
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-16 02:28:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/profile", parameters={masked}
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#createOrGetProfile(String, String)
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserProfile */insert 
    into
        user_profiles (created_at, profile_name, session_id, id) 
    values
        (?, ?, ?, default)
2025-10-16 02:28:56 [http-nio-8080-exec-9] INFO  c.t.service.UserSessionService - Created new user profile for session: session_1760561909936_bovq6dybs
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Profile retrieved successfully, data=UserProfile(id=2, sessionId=s (truncated)...]
2025-10-16 02:28:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/photos/upload?sessionId=session_1760561909936_bovq6dybs", parameters={multipart}
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#uploadPhoto(String, MultipartFile, String)
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG c.t.service.FileStorageService - Using local file storage for user photo
2025-10-16 02:28:56 [http-nio-8080-exec-10] INFO  c.t.service.LocalFileStorageService - File uploaded successfully to local storage: http://localhost:8080/api/files/user-photos/2/b01fe30a-1c33-4ab7-a3c0-5d8dc9e5b5fd.jpg
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserPhoto */insert 
    into
        user_photos (photo_name, photo_url, uploaded_at, user_profile_id, id) 
    values
        (?, ?, ?, ?, default)
2025-10-16 02:28:56 [http-nio-8080-exec-10] INFO  c.t.service.UserSessionService - Uploaded photo for user session_1760561909936_bovq6dybs: http://localhost:8080/api/files/user-photos/2/b01fe30a-1c33-4ab7-a3c0-5d8dc9e5b5fd.jpg
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Photo uploaded successfully, data=UserPhotoDto(id=2, photoUrl=http (truncated)...]
2025-10-16 02:28:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/tryon/generate?sessionId=session_1760561909936_bovq6dybs", parameters={masked}
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.TryOnController#generateTryOn(String, TryonRequestDto)
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TryonRequestDto(garmentId=5, userPhotoId=2, aiModel=google-tryon, customPrompt=Put the Designer Sare (truncated)...]
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    where
        g1_0.id=?
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.photo_name,
        up1_0.photo_url,
        up1_0.uploaded_at,
        up1_0.user_profile_id 
    from
        user_photos up1_0 
    where
        up1_0.id=? 
        and up1_0.user_profile_id=?
2025-10-16 02:28:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:28:56 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Sending prompt to Google Gemini API for virtual try-on
2025-10-16 02:28:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/user-photos/2/b01fe30a-1c33-4ab7-a3c0-5d8dc9e5b5fd.jpg", parameters={}
2025-10-16 02:28:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:28:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Auto-generated prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  AI Prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  User photo size: 637744 bytes
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Garment image size: 36039 bytes
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Calling Gemini API for AI-generated draped image
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Created Gemini request with prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent
2025-10-16 02:28:58 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  API Key length: 39, First 5 chars: AIzaS***
2025-10-16 02:29:18 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Got AI-generated draped image from Gemini
2025-10-16 02:29:18 [http-nio-8080-exec-2] DEBUG c.t.service.AITryOnService - Found camelCase 'inlineData' field
2025-10-16 02:29:18 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Successfully extracted image data from Gemini response (size: 2772316 chars)
2025-10-16 02:29:18 [http-nio-8080-exec-2] DEBUG c.t.service.FileStorageService - Using local file storage for try-on result
2025-10-16 02:29:18 [http-nio-8080-exec-2] INFO  c.t.service.LocalFileStorageService - Try-on result uploaded successfully to local storage: http://localhost:8080/api/files/tryon-results/2/5_bc0675e4-75ac-4e2c-8f35-e712663d853e.jpg
2025-10-16 02:29:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.TryonResult */insert 
    into
        tryon_results (ai_model_used, created_at, garment_id, result_image_url, user_photo_id, user_profile_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-10-16 02:29:18 [http-nio-8080-exec-2] INFO  c.t.service.AITryOnService -  Try-on generated successfully for user session_1760561909936_bovq6dybs and garment 5
2025-10-16 02:29:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:29:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Try-on generated successfully, data=TryonResultDto(id=2, resultIma (truncated)...]
2025-10-16 02:29:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:29:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/2/5_bc0675e4-75ac-4e2c-8f35-e712663d853e.jpg", parameters={}
2025-10-16 02:29:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:29:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:29:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/2/5_bc0675e4-75ac-4e2c-8f35-e712663d853e.jpg", parameters={}
2025-10-16 02:29:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:29:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/profile", parameters={masked}
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#createOrGetProfile(String, String)
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserProfile */insert 
    into
        user_profiles (created_at, profile_name, session_id, id) 
    values
        (?, ?, ?, default)
2025-10-16 02:30:02 [http-nio-8080-exec-8] INFO  c.t.service.UserSessionService - Created new user profile for session: session_1760561988119_hwcnd867n
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Profile retrieved successfully, data=UserProfile(id=3, sessionId=s (truncated)...]
2025-10-16 02:30:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/photos/upload?sessionId=session_1760561988119_hwcnd867n", parameters={multipart}
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#uploadPhoto(String, MultipartFile, String)
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG c.t.service.FileStorageService - Using local file storage for user photo
2025-10-16 02:30:02 [http-nio-8080-exec-9] INFO  c.t.service.LocalFileStorageService - File uploaded successfully to local storage: http://localhost:8080/api/files/user-photos/3/aa9f4efe-691f-40ed-8c6c-2cca99b8b94b.jpg
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserPhoto */insert 
    into
        user_photos (photo_name, photo_url, uploaded_at, user_profile_id, id) 
    values
        (?, ?, ?, ?, default)
2025-10-16 02:30:02 [http-nio-8080-exec-9] INFO  c.t.service.UserSessionService - Uploaded photo for user session_1760561988119_hwcnd867n: http://localhost:8080/api/files/user-photos/3/aa9f4efe-691f-40ed-8c6c-2cca99b8b94b.jpg
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Photo uploaded successfully, data=UserPhotoDto(id=3, photoUrl=http (truncated)...]
2025-10-16 02:30:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/tryon/generate?sessionId=session_1760561988119_hwcnd867n", parameters={masked}
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.TryOnController#generateTryOn(String, TryonRequestDto)
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TryonRequestDto(garmentId=5, userPhotoId=3, aiModel=google-tryon, customPrompt=Put the Designer Sare (truncated)...]
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    where
        g1_0.id=?
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.photo_name,
        up1_0.photo_url,
        up1_0.uploaded_at,
        up1_0.user_profile_id 
    from
        user_photos up1_0 
    where
        up1_0.id=? 
        and up1_0.user_profile_id=?
2025-10-16 02:30:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:30:02 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Sending prompt to Google Gemini API for virtual try-on
2025-10-16 02:30:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/user-photos/3/aa9f4efe-691f-40ed-8c6c-2cca99b8b94b.jpg", parameters={}
2025-10-16 02:30:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:30:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Auto-generated prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  AI Prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  User photo size: 597223 bytes
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Garment image size: 36039 bytes
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Calling Gemini API for AI-generated draped image
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Created Gemini request with prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent
2025-10-16 02:30:03 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  API Key length: 39, First 5 chars: AIzaS***
2025-10-16 02:30:17 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Got AI-generated draped image from Gemini
2025-10-16 02:30:17 [http-nio-8080-exec-10] DEBUG c.t.service.AITryOnService - Found camelCase 'inlineData' field
2025-10-16 02:30:17 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Successfully extracted image data from Gemini response (size: 3341936 chars)
2025-10-16 02:30:17 [http-nio-8080-exec-10] DEBUG c.t.service.FileStorageService - Using local file storage for try-on result
2025-10-16 02:30:17 [http-nio-8080-exec-10] INFO  c.t.service.LocalFileStorageService - Try-on result uploaded successfully to local storage: http://localhost:8080/api/files/tryon-results/3/5_d0e911b0-35ec-46b0-8009-fff502a5ba10.jpg
2025-10-16 02:30:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.TryonResult */insert 
    into
        tryon_results (ai_model_used, created_at, garment_id, result_image_url, user_photo_id, user_profile_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-10-16 02:30:17 [http-nio-8080-exec-10] INFO  c.t.service.AITryOnService -  Try-on generated successfully for user session_1760561988119_hwcnd867n and garment 5
2025-10-16 02:30:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:30:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Try-on generated successfully, data=TryonResultDto(id=3, resultIma (truncated)...]
2025-10-16 02:30:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:30:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/3/5_d0e911b0-35ec-46b0-8009-fff502a5ba10.jpg", parameters={}
2025-10-16 02:30:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:30:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/profile", parameters={masked}
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#createOrGetProfile(String, String)
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserProfile */insert 
    into
        user_profiles (created_at, profile_name, session_id, id) 
    values
        (?, ?, ?, default)
2025-10-16 02:32:57 [http-nio-8080-exec-1] INFO  c.t.service.UserSessionService - Created new user profile for session: session_1760562129945_e9jvkdb49
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Profile retrieved successfully, data=UserProfile(id=4, sessionId=s (truncated)...]
2025-10-16 02:32:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/photos/upload?sessionId=session_1760562129945_e9jvkdb49", parameters={multipart}
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#uploadPhoto(String, MultipartFile, String)
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG c.t.service.FileStorageService - Using local file storage for user photo
2025-10-16 02:32:57 [http-nio-8080-exec-6] INFO  c.t.service.LocalFileStorageService - File uploaded successfully to local storage: http://localhost:8080/api/files/user-photos/4/e3f63b8f-7515-4dd3-b299-69eae0a00bae.jpg
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserPhoto */insert 
    into
        user_photos (photo_name, photo_url, uploaded_at, user_profile_id, id) 
    values
        (?, ?, ?, ?, default)
2025-10-16 02:32:57 [http-nio-8080-exec-6] INFO  c.t.service.UserSessionService - Uploaded photo for user session_1760562129945_e9jvkdb49: http://localhost:8080/api/files/user-photos/4/e3f63b8f-7515-4dd3-b299-69eae0a00bae.jpg
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Photo uploaded successfully, data=UserPhotoDto(id=4, photoUrl=http (truncated)...]
2025-10-16 02:32:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/tryon/generate?sessionId=session_1760562129945_e9jvkdb49", parameters={masked}
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.TryOnController#generateTryOn(String, TryonRequestDto)
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TryonRequestDto(garmentId=5, userPhotoId=4, aiModel=google-tryon, customPrompt=Put the Designer Sare (truncated)...]
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    where
        g1_0.id=?
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.photo_name,
        up1_0.photo_url,
        up1_0.uploaded_at,
        up1_0.user_profile_id 
    from
        user_photos up1_0 
    where
        up1_0.id=? 
        and up1_0.user_profile_id=?
2025-10-16 02:32:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:32:57 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Sending prompt to Google Gemini API for virtual try-on
2025-10-16 02:32:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/user-photos/4/e3f63b8f-7515-4dd3-b299-69eae0a00bae.jpg", parameters={}
2025-10-16 02:32:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:32:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Auto-generated prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  AI Prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  User photo size: 10784 bytes
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Garment image size: 36039 bytes
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Calling Gemini API for AI-generated draped image
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Created Gemini request with prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent
2025-10-16 02:32:59 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  API Key length: 39, First 5 chars: AIzaS***
2025-10-16 02:33:14 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Got AI-generated draped image from Gemini
2025-10-16 02:33:14 [http-nio-8080-exec-3] DEBUG c.t.service.AITryOnService - Found camelCase 'inlineData' field
2025-10-16 02:33:14 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Successfully extracted image data from Gemini response (size: 1398048 chars)
2025-10-16 02:33:14 [http-nio-8080-exec-3] DEBUG c.t.service.FileStorageService - Using local file storage for try-on result
2025-10-16 02:33:14 [http-nio-8080-exec-3] INFO  c.t.service.LocalFileStorageService - Try-on result uploaded successfully to local storage: http://localhost:8080/api/files/tryon-results/4/5_fd845494-1a73-4730-adf2-d0e3d43fbde5.jpg
2025-10-16 02:33:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.TryonResult */insert 
    into
        tryon_results (ai_model_used, created_at, garment_id, result_image_url, user_photo_id, user_profile_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-10-16 02:33:14 [http-nio-8080-exec-3] INFO  c.t.service.AITryOnService -  Try-on generated successfully for user session_1760562129945_e9jvkdb49 and garment 5
2025-10-16 02:33:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:33:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Try-on generated successfully, data=TryonResultDto(id=4, resultIma (truncated)...]
2025-10-16 02:33:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:33:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/4/5_fd845494-1a73-4730-adf2-d0e3d43fbde5.jpg", parameters={}
2025-10-16 02:33:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:33:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/profile", parameters={masked}
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#createOrGetProfile(String, String)
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserProfile */insert 
    into
        user_profiles (created_at, profile_name, session_id, id) 
    values
        (?, ?, ?, default)
2025-10-16 02:34:21 [http-nio-8080-exec-2] INFO  c.t.service.UserSessionService - Created new user profile for session: session_1760562253561_3k563h5vq
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Profile retrieved successfully, data=UserProfile(id=5, sessionId=s (truncated)...]
2025-10-16 02:34:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/user/photos/upload?sessionId=session_1760562253561_3k563h5vq", parameters={multipart}
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.UserController#uploadPhoto(String, MultipartFile, String)
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG c.t.service.FileStorageService - Using local file storage for user photo
2025-10-16 02:34:21 [http-nio-8080-exec-4] INFO  c.t.service.LocalFileStorageService - File uploaded successfully to local storage: http://localhost:8080/api/files/user-photos/5/d712e508-9c30-48d8-8144-fc42128316a7.jpg
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.UserPhoto */insert 
    into
        user_photos (photo_name, photo_url, uploaded_at, user_profile_id, id) 
    values
        (?, ?, ?, ?, default)
2025-10-16 02:34:21 [http-nio-8080-exec-4] INFO  c.t.service.UserSessionService - Uploaded photo for user session_1760562253561_3k563h5vq: http://localhost:8080/api/files/user-photos/5/d712e508-9c30-48d8-8144-fc42128316a7.jpg
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Photo uploaded successfully, data=UserPhotoDto(id=5, photoUrl=http (truncated)...]
2025-10-16 02:34:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/tryon/generate?sessionId=session_1760562253561_3k563h5vq", parameters={masked}
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.TryOnController#generateTryOn(String, TryonRequestDto)
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TryonRequestDto(garmentId=5, userPhotoId=5, aiModel=google-tryon, customPrompt=Put the Designer Sare (truncated)...]
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.created_at,
        up1_0.profile_name,
        up1_0.session_id 
    from
        user_profiles up1_0 
    where
        up1_0.session_id=?
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    where
        g1_0.id=?
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        up1_0.id,
        up1_0.photo_name,
        up1_0.photo_url,
        up1_0.uploaded_at,
        up1_0.user_profile_id 
    from
        user_photos up1_0 
    where
        up1_0.id=? 
        and up1_0.user_profile_id=?
2025-10-16 02:34:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-16 02:34:21 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Sending prompt to Google Gemini API for virtual try-on
2025-10-16 02:34:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/user-photos/5/d712e508-9c30-48d8-8144-fc42128316a7.jpg", parameters={}
2025-10-16 02:34:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:34:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Auto-generated prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  AI Prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  User photo size: 10784 bytes
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Garment image size: 36039 bytes
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Calling Gemini API for AI-generated draped image
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Created Gemini request with prompt: Drape a traditional Indian Designer Saree Collection 3 elegantly on the woman in the image. The saree should flow naturally with realistic pleats and pallu placement over the shoulder. Maintain accurate body proportions, smooth fabric texture, and graceful folds. Keep the look authentic, modest, and aesthetically styled  as if it's a real saree worn for a cultural or festive occasion. Preserve the woman's face, posture, and natural lighting.
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent
2025-10-16 02:34:22 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  API Key length: 39, First 5 chars: AIzaS***
2025-10-16 02:34:36 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Got AI-generated draped image from Gemini
2025-10-16 02:34:36 [http-nio-8080-exec-5] DEBUG c.t.service.AITryOnService - Found camelCase 'inlineData' field
2025-10-16 02:34:36 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Successfully extracted image data from Gemini response (size: 1589220 chars)
2025-10-16 02:34:36 [http-nio-8080-exec-5] DEBUG c.t.service.FileStorageService - Using local file storage for try-on result
2025-10-16 02:34:36 [http-nio-8080-exec-5] INFO  c.t.service.LocalFileStorageService - Try-on result uploaded successfully to local storage: http://localhost:8080/api/files/tryon-results/5/5_62813cb4-5fff-414e-ab06-974423ca1869.jpg
2025-10-16 02:34:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.TryonResult */insert 
    into
        tryon_results (ai_model_used, created_at, garment_id, result_image_url, user_photo_id, user_profile_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-10-16 02:34:36 [http-nio-8080-exec-5] INFO  c.t.service.AITryOnService -  Try-on generated successfully for user session_1760562253561_3k563h5vq and garment 5
2025-10-16 02:34:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-16 02:34:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Try-on generated successfully, data=TryonResultDto(id=5, resultIma (truncated)...]
2025-10-16 02:34:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:34:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/tryon-results/5/5_62813cb4-5fff-414e-ab06-974423ca1869.jpg", parameters={}
2025-10-16 02:34:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [URL [file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/]]
2025-10-16 02:34:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-16 02:55:36 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m33s605ms).
2025-10-16 02:59:14 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 02:59:14 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:14 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:14 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:14 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:14 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:14 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:14 [Thread-5] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:14 [Thread-5] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 02:59:14 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-16 02:59:14 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-16 02:59:14 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 65482 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 02:59:14 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 02:59:14 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 02:59:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 02:59:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 6 JPA repository interfaces.
2025-10-16 02:59:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 02:59:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 02:59:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 02:59:14 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 02:59:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
2025-10-16 02:59:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-10-16 02:59:14 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn11: url=jdbc:h2:mem:testdb user=SA
2025-10-16 02:59:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-10-16 02:59:14 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 02:59:14 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 02:59:14 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 02:59:14 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 02:59:14 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 02:59:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 02:59:14 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 02:59:14 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 02:59:14 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 02:59:14 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 02:59:14 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 02:59:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 02:59:14 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 02:59:14 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 02:59:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 02:59:14 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 02:59:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 02:59:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 02:59:14 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.495 seconds (process running for 1977.792)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 02:59:14 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:14 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 02:59:14 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 02:59:14 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 02:59:17 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 02:59:17 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:17 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:17 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:17 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:17 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:17 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:17 [Thread-7] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:17 [Thread-7] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 02:59:17 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-10-16 02:59:17 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-10-16 02:59:17 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 65482 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 02:59:17 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 02:59:17 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 02:59:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 02:59:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 6 JPA repository interfaces.
2025-10-16 02:59:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 02:59:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 02:59:17 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 02:59:17 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 02:59:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 130 ms
2025-10-16 02:59:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-10-16 02:59:17 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn16: url=jdbc:h2:mem:testdb user=SA
2025-10-16 02:59:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-10-16 02:59:17 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 02:59:17 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 02:59:17 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 02:59:17 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 02:59:17 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 02:59:17 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 02:59:17 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 02:59:17 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 02:59:17 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 02:59:17 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:17 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 02:59:17 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 02:59:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 02:59:17 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 02:59:17 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 02:59:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 02:59:17 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 02:59:17 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 02:59:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 02:59:17 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.377 seconds (process running for 1980.673)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 02:59:17 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:17 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 02:59:17 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 02:59:17 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 02:59:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 02:59:37 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:37 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:37 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:37 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:37 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:37 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:37 [Thread-12] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:37 [Thread-12] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 02:59:37 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-10-16 02:59:37 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-10-16 02:59:37 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 65482 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 02:59:37 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 02:59:37 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 02:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 02:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 6 JPA repository interfaces.
2025-10-16 02:59:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 02:59:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 02:59:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 02:59:37 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 02:59:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 194 ms
2025-10-16 02:59:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-10-16 02:59:37 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn21: url=jdbc:h2:mem:testdb user=SA
2025-10-16 02:59:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-10-16 02:59:37 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 02:59:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 02:59:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 02:59:37 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 02:59:37 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 02:59:37 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 02:59:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 02:59:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 02:59:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 02:59:37 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:37 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-16 02:59:37 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-16 02:59:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-16 02:59:37 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/uploads/
2025-10-16 02:59:37 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-16 02:59:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-16 02:59:37 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-16 02:59:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-16 02:59:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-16 02:59:37 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 0.47 seconds (process running for 2000.815)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-16 02:59:37 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garments
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-16 02:59:37 [restartedMain] INFO  c.t.s.DataInitializationService - Created 6 sample garment images
2025-10-16 02:59:37 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-16 02:59:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-16 02:59:52 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-16 02:59:52 [Thread-16] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:52 [Thread-16] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:52 [Thread-16] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:52 [Thread-16] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:52 [Thread-16] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:52 [Thread-16] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:52 [Thread-16] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:52 [Thread-16] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 02:59:52 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-10-16 02:59:52 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-10-16 02:59:52 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.15 with PID 65482 (/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes started by prabhakaranr in /Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend)
2025-10-16 02:59:52 [restartedMain] DEBUG c.t.TextileTryonApplication - Running with Spring Boot v3.3.5, Spring v6.1.14
2025-10-16 02:59:52 [restartedMain] INFO  c.t.TextileTryonApplication - The following 1 profile is active: "local"
2025-10-16 02:59:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-16 02:59:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 6 JPA repository interfaces.
2025-10-16 02:59:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-16 02:59:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-16 02:59:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-16 02:59:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-16 02:59:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 163 ms
2025-10-16 02:59:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-10-16 02:59:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn26: url=jdbc:h2:mem:testdb user=SA
2025-10-16 02:59:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-10-16 02:59:52 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-16 02:59:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-16 02:59:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-16 02:59:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-16 02:59:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-16 02:59:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-16 02:59:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-16 02:59:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-16 02:59:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-16 02:59:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Command.executeUpdate(Command.java:256) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	... 44 common frames omitted
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-16 02:59:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:52 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tryOnController' defined in file [/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes/com/textiletryon/controller/TryOnController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'AITryOnService': Injection of autowired dependencies failed
2025-10-16 02:59:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-16 02:59:52 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-16 02:59:52 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-10-16 02:59:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-10-16 02:59:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-10-16 02:59:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-16 02:59:52 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-16 02:59:52 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tryOnController' defined in file [/Users/prabhakaranr/Documents/dev/textile-tryon-app/textile-tryon-app/backend/target/classes/com/textiletryon/controller/TryOnController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'AITryOnService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.5.jar:3.3.5]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'AITryOnService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.14.jar:6.1.14]
	... 24 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'GOOGLE_GEMINI_API_KEY' in value "${GOOGLE_GEMINI_API_KEY}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:230) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:80) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:61) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:153) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:149) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:74) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:153) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.1.14.jar:6.1.14]
	... 36 common frames omitted
2025-10-24 00:19:59 [restartedMain] INFO  c.t.TextileTryonApplication - Starting TextileTryonApplication using Java 17.0.16 with PID 15750 (/Users/bot/Desktop/Projects/textile-tryon-app 2/textile-tryon-app/backend/target/classes started by bot in /Users/bot/Desktop/Projects/textile-tryon-app 2/textile-tryon-app/backend)
2025-10-24 00:19:59 [restartedMain] INFO  c.t.TextileTryonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-24 00:19:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 00:19:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 00:19:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-24 00:19:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 6 JPA repository interfaces.
2025-10-24 00:19:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-24 00:19:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-24 00:19:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-10-24 00:19:59 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-24 00:19:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 462 ms
2025-10-24 00:19:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-24 00:19:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-10-24 00:19:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-24 00:19:59 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-10-24 00:19:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-24 00:19:59 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-10-24 00:19:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-24 00:19:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-24 00:19:59 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-24 00:20:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garment_images cascade 
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists garments cascade 
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists tryon_results cascade 
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_photos cascade 
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user_profiles cascade 
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_profile_id bigint not null,
        primary key (id),
        constraint unique_favorite unique (user_profile_id, garment_id)
    )
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garment_images (
        display_order integer check (display_order>=0),
        is_primary boolean,
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        image_url varchar(500) not null,
        primary key (id)
    )
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table garments (
        price numeric(10,2) not null,
        stock_quantity integer check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        color varchar(50) not null,
        category varchar(100) not null,
        garment_type varchar(100) not null,
        name_id varchar(100) not null unique,
        pattern_style varchar(100),
        subcategory varchar(100),
        garment_name varchar(255) not null,
        primary key (id)
    )
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table tryon_results (
        created_at timestamp(6),
        garment_id bigint not null,
        id bigint generated by default as identity,
        user_photo_id bigint not null,
        user_profile_id bigint not null,
        ai_model_used varchar(50),
        result_image_url varchar(500) not null,
        primary key (id)
    )
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_photos (
        id bigint generated by default as identity,
        uploaded_at timestamp(6),
        user_profile_id bigint not null,
        photo_name varchar(100),
        photo_url varchar(500) not null,
        primary key (id)
    )
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user_profiles (
        created_at timestamp(6),
        id bigint generated by default as identity,
        profile_name varchar(100),
        session_id varchar(255) not null unique,
        primary key (id)
    )
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on favorites (user_profile_id)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on favorites (garment_id)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on garment_images (garment_id)
2025-10-24 00:20:00 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on garment_images (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on garment_images (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_is_primary 
       on garment_images (is_primary)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_category 
       on garments (category)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_color 
       on garments (color)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_type 
       on garments (garment_type)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_price 
       on garments (price)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_name_id 
       on garments (name_id)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)
2025-10-24 00:20:00 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on tryon_results (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on tryon_results (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_garment_id 
       on tryon_results (garment_id)
2025-10-24 00:20:00 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_garment_id 
       on tryon_results (garment_id)" via JDBC [Index "IDX_GARMENT_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_GARMENT_ID" already exists; SQL statement:

    create index idx_garment_id 
       on tryon_results (garmen [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_photo_id 
       on tryon_results (user_photo_id)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_user_profile_id 
       on user_photos (user_profile_id)
2025-10-24 00:20:00 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_profile_id 
       on user_photos (user_profile_id)" via JDBC [Index "IDX_USER_PROFILE_ID" already exists;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTableConstraints(SchemaCreatorImpl.java:390)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:356)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:239)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:172)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.textiletryon.TextileTryonApplication.main(TextileTryonApplication.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Index "IDX_USER_PROFILE_ID" already exists; SQL statement:

    create index idx_user_profile_id 
       on user_photos (user_profil [42111-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:76)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:256)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 44 common frames omitted
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create index idx_session_id 
       on user_profiles (session_id)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKht4q3u9efwju8260ajxk2s9m3 
       foreign key (garment_id) 
       references garments
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK4brylujv0dmegw5u11gd9bl51 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists garment_images 
       add constraint FKbqa7mtg95uhcy5v5qlxr9p4fg 
       foreign key (garment_id) 
       references garments
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK7xm5j1xx1auap6wkknxf8drnn 
       foreign key (garment_id) 
       references garments
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FK2v63ec2jl4jgtqkj7wl1oc6kc 
       foreign key (user_photo_id) 
       references user_photos
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists tryon_results 
       add constraint FKcuyxud6svf5ogxm9s5iji1bhj 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table if exists user_photos 
       add constraint FK5vyiam652e2tiyjry0ywhvq29 
       foreign key (user_profile_id) 
       references user_profiles
2025-10-24 00:20:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-24 00:20:00 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-24 00:20:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-24 00:20:00 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring CORS for /files/** endpoint
2025-10-24 00:20:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-10-24 00:20:00 [restartedMain] INFO  com.textiletryon.config.WebConfig - Configuring resource handler for /files/** -> file:/Users/bot/Desktop/Projects/textile-tryon-app 2/textile-tryon-app/backend/uploads/
2025-10-24 00:20:00 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /files/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-24 00:20:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-24 00:20:00 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-24 00:20:00 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-24 00:20:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-10-24 00:20:00 [restartedMain] INFO  c.t.TextileTryonApplication - Started TextileTryonApplication in 1.864 seconds (process running for 1.994)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Garment x */ select
            count(*) 
        from
            garments g1_0
2025-10-24 00:20:00 [restartedMain] INFO  c.t.s.DataInitializationService - Initializing sample data...
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.Garment */insert 
    into
        garments (category, color, created_at, garment_name, garment_type, name_id, pattern_style, price, stock_quantity, subcategory, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] INFO  c.t.s.DataInitializationService - Created 9 sample garments
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] DEBUG org.hibernate.SQL - 
    /* insert for
        com.textiletryon.model.GarmentImage */insert 
    into
        garment_images (created_at, display_order, garment_id, image_url, is_primary, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-24 00:20:00 [restartedMain] INFO  c.t.s.DataInitializationService - Created 9 sample garment images
2025-10-24 00:20:00 [restartedMain] INFO  c.t.s.DataInitializationService - Sample data initialization completed
2025-10-24 00:20:06 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 00:20:06 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17aa587b
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@17e3caba
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-24 00:20:06 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-24 00:20:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:20:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:20:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:06 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-10-24 00:20:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:20:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:20:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:20:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:20:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:20:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:20:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:20:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:20:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:20:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:20:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:20:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:20:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:20:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:20:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource health.]
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Oct 24 00:20:24 IST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-10-24 00:20:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:20:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:26:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:26:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:26:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:26:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:26:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:26:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:26:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:26:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:26:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:26:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:26:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:26:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/categories", parameters={}
2025-10-24 00:26:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments/filters/colors", parameters={}
2025-10-24 00:26:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllColors()
2025-10-24 00:26:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#getAllCategories()
2025-10-24 00:26:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.category 
    FROM
        Garment g 
    ORDER BY
        g.category */ select
            distinct g1_0.category 
        from
            garments g1_0 
        order by
            g1_0.category
2025-10-24 00:26:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT g.color 
    FROM
        Garment g 
    ORDER BY
        g.color */ select
            distinct g1_0.color 
        from
            garments g1_0 
        order by
            g1_0.color
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:26:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:26:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Colors retrieved successfully, data=[Cream, Multi, Red, White], er (truncated)...]
2025-10-24 00:26:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[Saree, Vesti], errorCode= (truncated)...]
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:26:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:26:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/garments", parameters={}
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.textiletryon.controller.GarmentController#searchGarments(String, List, List, String, String, String, int, int)
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        g1_0.id,
        g1_0.category,
        g1_0.color,
        g1_0.created_at,
        g1_0.garment_name,
        g1_0.garment_type,
        g1_0.name_id,
        g1_0.pattern_style,
        g1_0.price,
        g1_0.stock_quantity,
        g1_0.subcategory,
        g1_0.updated_at 
    from
        garments g1_0 
    order by
        g1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        gi1_0.id,
        gi1_0.created_at,
        gi1_0.display_order,
        gi1_0.garment_id,
        gi1_0.image_url,
        gi1_0.is_primary 
    from
        garment_images gi1_0 
    where
        gi1_0.garment_id=? 
        and gi1_0.is_primary
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        gi.imageUrl 
    FROM
        GarmentImage gi 
    WHERE
        gi.garment.id = :garmentId 
    ORDER BY
        gi.displayOrder ASC */ select
            gi1_0.image_url 
        from
            garment_images gi1_0 
        where
            gi1_0.garment_id=? 
        order by
            gi1_0.display_order
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Garments retrieved successfully, data=Page 1 of 1 containing com.t (truncated)...]
2025-10-24 00:26:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
